---
title: "Getting Started with React Query"
date: "2023-08-12"
subtitle: "A Beginner's Guide to Supercharging your React App with React Query"
tags: ["nextjs", "React", "data fetching", "react-query", "api", "data", "JavaScript"]
---


<CustomImage 
src='https://raw.githubusercontent.com/JUNNY12/portfoliopost/main/image/reactquery.png'
alt='React query'
width={600}
height={400}
/>


# Introduction

<CustomParagraph
children='Managing data in React applications can be complex, but with the help of React Query, 
you can simplify fetching, caching, and updating data. In this article, we'll explore the basics
of React Query and build a simple todo list application to demonstrate its power.
'
/>

## What is React Query?

<CustomParagraph 
children='React Query is a library that provides a set of tools for managing remote and local data in your React applications. 
It leverages hooks and concepts like query caching, background data fetching,
and optimistic updates to streamline data management and improve the user experience.'
/>

## Getting Started

<CustomParagraph
children='To get started with React Query, we'll need to install it in our project.'
/>

```jsx
npm install react-query
yarn add react-query

```

<CustomParagraph
children='Lets create a simple todo list application to demonstrate the power of React Query.
'/>

## Creating a Todo List Application

<CustomParagraph
children='In this example, we'll build a simple todo list application to showcase React Query's capabilities.
' />

## Fetching data

<CustomParagraph 
children='We'll start by fetching a list of todos using React Query's useQuery hook.
'
/>

```jsx

import React from 'react';
import { useQuery } from 'react-query';

const fetchTodos = async () => {
  const response = await fetch('/api/todos');
  return response.json();
};

const TodoList = () => {
  const { data: todos, isLoading, isError } = useQuery('todos', fetchTodos);

  if (isLoading) return <p>Loading...</p>;
  if (isError) return <p>Error fetching todos</p>;

   return (
    <ul>
      {todos.map(todo => (
        <li key={todo.id}>{todo.title}</li>
      ))}
    </ul>
  );
};

export default TodoList;

```

## Adding a  new todo

<CustomParagraph 
children='Next we'll add a form to add a new todo. We'll use React Query's useMutation hook to handle the form submission.
' />

```jsx
import React, { useState } from 'react';
import { useMutation, useQueryClient } from 'react-query';

const addTodo = async newTodo => {
  const response = await fetch('/api/todos', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(newTodo),
  });

  return response.json();
};

const TodoForm = () => {
  const [title, setTitle] = useState('');
  const queryClient = useQueryClient();
  const addTodoMutation = useMutation(addTodo, {
    onSuccess: () => {
      queryClient.invalidateQueries('todos');
    },
  });

  const handleSubmit = e => {
    e.preventDefault();
    addTodoMutation.mutate({ title });
    setTitle('');
  };

 return (
    <form onSubmit={handleSubmit}>
      <input
        type="text"
        value={title}
        onChange={e => setTitle(e.target.value)}
        placeholder="Add a new todo..."
      />
      <button type="submit">Add Todo</button>
    </form>
  );
};

export default TodoForm;

```

## Updating a todo

<CustomParagraph 
children='Finally, we'll add the ability to mark a todo as complete. We'll use React Query's useMutation hook to handle the form submission.
' />

```jsx
import React from 'react';
import { useMutation, useQueryClient } from 'react-query';

const updateTodo = async updatedTodo => {
  const response = await fetch(`/api/todos/${updatedTodo.id}`, {
    method: 'PUT',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(updatedTodo),
  });

  return response.json();
};

const Todo = ({ todo }) => {
  const queryClient = useQueryClient();
  const updateTodoMutation = useMutation(updateTodo, {
    onSuccess: () => {
      queryClient.invalidateQueries('todos');
    },
  });

  const handleComplete = () => {
    updateTodoMutation.mutate({ ...todo, completed: !todo.completed });
  };

  return (
    <li>
      <input
        type="checkbox"
        checked={todo.completed}
        onChange={handleComplete}
      />
      {todo.title}
    </li>
  );
};

export default Todo;

```

## Deleting a todo

<CustomParagraph 
children ='Finally, we'll add the ability to delete a todo. We'll use React Query's useMutation hook to handle the form submission.
' />

```jsx
import React from 'react';
import { useMutation, useQueryClient } from 'react-query';

const deleteTodo = async id => {
  const response = await fetch(`/api/todos/${id}`, {
    method: 'DELETE',
  });

  return response.json();
};  

const Todo = ({ todo }) => {
  const queryClient = useQueryClient();
  const deleteTodoMutation = useMutation(deleteTodo, {
    onSuccess: () => {
      queryClient.invalidateQueries('todos');
    },
  });

  const handleDelete = () => {
    deleteTodoMutation.mutate(todo.id);
  };

  return (
    <li>
      <button onClick={handleDelete}>Delete</button>
      {todo.title}
    </li>
  );
};

export default Todo;

```

## Conclusion

<CustomParagraph 
children='React Query is a powerful library that simplifies data management in React applications. 
By leveraging hooks like useQuery and useMutation, you can easily fetch, cache, and update
data while improving the user experience.
Start using React Query in your projects to streamline data-related tasks and build more efficient applications.
' />

<CustomParagraph 
children='
In this article, we built a simple todo list app to demonstrate the core concepts of React Query.
As you explore the library further, you'll discover its advanced features for handling pagination, 
optimistic updates, and more complex data scenarios. Happy coding with React Query!'
/>